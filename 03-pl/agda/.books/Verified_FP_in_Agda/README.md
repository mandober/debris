# Verified Functional Programming in Agda
by Aaron Stump, 2016
book + agda code

## Contents

1. FP with Booleans
  1.1 Declaring the Datatype of Booleans 1
  1.2 First Steps Interacting with Agda 4
  1.3 Syntax Declarations 4
  1.4 Defining Boolean Operations by Pattern Matching: Negation 6
  1.5 Defining Boolean Operations by Pattern Matching: And, Or 9
  1.6 The if-then-else Operation 11
  1.7 Conclusion 14
2. Introduction to Constructive Proof 17
  2.1 A First Theorem about the Booleans 17
  2.2 Universal Theorems 20
  2.3 Another Example, and More On Implicit Arguments 25
  2.4 Theorems with Hypotheses 28
  2.5 Going Deeper: Curry-Howard and Constructivity 35
  2.6 Further Examples 38
  2.7 Conclusion 40
  Exercises 41
3. Natural Numbers
  3.1 Peano Natural Numbers 44
  3.2 Addition 45
  3.3 Multiplication 57
  3.4 Arithmetic Comparison 63x Contents
  3.5 Even/Odd and Mutually Recursive Definitions 69
  3.6 Conclusion 70
  Exercises 70
4. Lists 73
  4.1 The List Datatype and Type Parameters 73
  4.2 Basic Operations on Lists 75
  4.3 Reasoning about List Operations 83
  4.4 Conclusion 95
  Exercises 96
5. Internal Verification 99
  5.1 Vectors 100
  5.2 Binary Search Trees 107
  5.3 Sigma Types 115
  5.4 Braun Trees 118
  5.5 Discussion: Internal vs. External Verification 127
  5.6 Conclusion 129
  Exercises 129
6. Type-Level Computation 131
  6.1 Integers 131
  6.2 Formatted Printing 136
  6.3 Proof by Reflection 141
  6.4 Conclusion 148
  Exercises 149
7. Generating Agda Parsers with gratr 151
  7.1 A Primer on Grammars 152
  7.2 Generating Parsers with gratr 158
  7.3 Conclusion 165
  Exercises 166
8. A Case Study: Huffman Encoding and Decoding 169
  8.1 The Files 170
  8.2 The Input Formats 171
  8.3 Encoding Textual Input 171Contents xi
  8.4 Decoding Encoded Text 181
  8.5 Conclusion 184
  Exercises 185
9. Reasoning About Termination 187
  9.1 Termination Proofs 187
  9.2 Operational Semantics for SK Combinators 197
  9.3 Conclusion 213
  Exercises 214
10. Intuitionistic Logic and Kripke Semantics 215
  10.1 Positive Propositional Intuitionistic Logic (PPIL) 216
  10.2 Kripke Structures 220
  10.3 Kripke Semantics for PPIL 224
  10.4 Soundness of PPIL 227
  10.5 Completeness 232
  10.6 Conclusion 245
  Exercises 246

Appendix A Quick Guide to Symbols 247
Appendix B Commonly Used Emacs Control Commands 249
Appendix C Some Extra Emacs Definitions 251
References 253
Index 257
Author's Biography 259
